<!DOCTYPE html>
<html lang="en">
    <head>
        <style>
            table{
            border-collapse: collapse;
            border-spacing: 0;            
            border: 1px solid #000;
            }   
            th, td{
                padding: 10px 20px;
                text-align: left;
                border: 1px solid #000;
            }
            tr:nth-child(even) {
                background-color: #f2f2f2
            }
        </style>
    </head>
    <body>
        <h2>Products, price lower than 2â‚¬</h2>
        <table id="myTable"></table>
        <script>
            var products = [ 
                {name: "milk", price: 1.10}, 
                {name: "coffee" , price: 3.50},  
                {name: "juice" , price: 0.75},  
                {name: "lemonade" , price: 0.90},  
                {name: "beer" , price: 2.70},  
                {name: "sour milk" , price: 0.80} 
            ];
            
            function generateTableHead(table, data) {
                let thead = table.createTHead();
                let row = thead.insertRow();
                for (let key of data) {
                    let th = document.createElement("th");
                    let text = document.createTextNode(key);
                    th.appendChild(text);
                    row.appendChild(th);
                }
            }

            function generateTable(table, data) {
                for (let element of data) {
                    let row = table.insertRow();
                    for (key in element) {
                        let cell = row.insertCell();
                        let text = document.createTextNode(element[key]);
                        cell.appendChild(text);
                    }
                }
            }

            function myFilterFunc(value) {
                if(value.price < 2) {
                    return true
                }
                return false
            }

            let table = document.querySelector("table");
            let data = Object.keys(products[0]);
            let productsFilter = products.filter(myFilterFunc)
            generateTable(table, productsFilter);
            generateTableHead(table, data);

        </script>
    </body>
</html>